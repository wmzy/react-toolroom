import{r as c,j as n}from"./index-8beb3d20.js";import{g as p}from"./util-2d0d1589.js";function f(e){return/^on[A-Z]/.test(e)}function d(e,{testEvent:t,propsAreEqual:r}){const o=c.memo(e,r),a=c.forwardRef((u,s)=>{const i=c.useRef({}),h=i.current,x=Object.keys(u).filter(t).reduce((j,m)=>{const v=u[m];return typeof v!="function"?j:{...j,[m]:g(h[m],v)}},{});return i.current=x,n.jsx(o,{ref:s,...u,...x})});return a.displayName=`FixedEvents(${p(o)})`,a}function M(e,t){return t?typeof t=="function"?d(e,{testEvent:f,propsAreEqual:t}):d(e,{testEvent:f,...t}):d(e,{testEvent:f})}const l=new WeakMap;function g(e,t){return l.has(t)?t:(e||(e=(...r)=>l.get(e)(...r)),l.set(e,t),e)}function E({onClick:e}){const t=c.useRef(0);return n.jsxs("button",{type:"button",onClick:e,children:["Send (render count:",t.current++,")"]})}const y=M(E);function R(){const[e,t]=c.useState([]),[r,o]=c.useState(""),a=s=>{s&&t([...e,s])},u=()=>{a(r),o("")};return n.jsxs("div",{className:"c18p1p6w",children:[n.jsx("h1",{children:"Memo demo"}),n.jsx("ul",{children:e.map((s,i)=>n.jsx("li",{children:s},i))}),n.jsx("textarea",{value:r,onChange:s=>o(s.target.value)}),n.jsx(E,{onClick:u}),n.jsxs("label",{children:["memoized",n.jsx(y,{onClick:u})]})]})}export{R as default};
